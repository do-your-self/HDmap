layui.define(["config_levelNav","config_constant","rightsManagementJson"],function(n){var e=layui.config_constant;var a=layui.rightsManagementJson;var i={rightsManagement:function(n){var e=layui.config_levelNav.config_levelNav();var i=[];var t=[];var o=[];var c=$.localStorage.getItem("roleId");$.each(a,function(n,a){if(a.Personnel==c){var t=a.permissions;$.each(t,function(n,a){$.each(e,function(e,a){if(a.name==n){i.push(a)}})})}});$.each(a,function(n,e){if(e.Personnel==c){var a=e.permissions;$.each(a,function(n,e){var a=[];$.each(i,function(n,i){var t=i.menu;if(t==undefined||t==null){}else{$.each(e,function(n,e){if(e==true){$.each(t,function(e,i){if(i.name==n){a.push(i)}})}})}});t.push(a)})}});$.each(i,function(n,e){var a=e.menu;if(a==undefined||a==null){}else{e.menu=t[n]}});o=i;$.localStorage.setItem("FilteredPermissions",JSON.stringify(o))}};n("rightsManagement",i)});