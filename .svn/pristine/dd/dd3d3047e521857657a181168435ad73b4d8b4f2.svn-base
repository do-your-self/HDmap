!function(e,t){"use strict";var i=e.layui&&layui.define,n,a,r={getPath:function(){var e=document.currentScript?document.currentScript.src:function(){var e=document.scripts,t=e.length-1,i;for(var n=t;n>0;n--){if(e[n].readyState==="interactive"){i=e[n].src;break}}return i||e[t].src}();return e.substring(0,e.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(t,i){var n=t.currentStyle?t.currentStyle:e.getComputedStyle(t,null);return n[n.getPropertyValue?"getPropertyValue":"getAttribute"](i)},link:function(t,i,n){if(!o.path)return;var a=document.getElementsByTagName("head")[0],s=document.createElement("link");if(typeof i==="string")n=i;var l=(n||t).replace(/\.|\//g,"");var f="layuicss-"+l,c=0;s.rel="stylesheet";s.href=o.path+t;s.id=f;if(!document.getElementById(f)){a.appendChild(s)}if(typeof i!=="function")return;(function t(){if(++c>8*1e3/100){return e.console&&console.error("layer.css: Invalid")}parseInt(r.getStyle(document.getElementById(f),"width"))===1989?i():setTimeout(t,100)})()}};var o={v:"3.1.1",ie:function(){var t=navigator.userAgent.toLowerCase();return!!e.ActiveXObject||"ActiveXObject"in e?(t.match(/msie\s(\d+)/)||[])[1]||"11":false}(),index:e.layer&&e.layer.v?1e5:0,path:r.getPath,config:function(e,t){e=e||{};o.cache=r.config=n.extend({},r.config,e);o.path=r.config.path||o.path;typeof e.extend==="string"&&(e.extend=[e.extend]);if(r.config.path)o.ready();if(!e.extend)return this;i?layui.addcss("modules/layer/"+e.extend):r.link("theme/"+e.extend);return this},ready:function(e){var t="layer",n="",a=(i?"modules/layer/":"theme/")+"default/layer.css?v="+o.v+n;i?layui.addcss(a,e,t):r.link(a,e,t);return this},alert:function(e,t,i){var a=typeof t==="function";if(a)i=t;return o.open(n.extend({content:e,yes:i},a?{}:t))},confirm:function(e,t,i,a){var s=typeof t==="function";if(s){a=i;i=t}return o.open(n.extend({content:e,btn:r.btn,yes:i,btn2:a},s?{}:t))},msg:function(e,i,a){var s=typeof i==="function",f=r.config.skin;var c=(f?f+" "+f+"-msg":"")||"layui-layer-msg";var u=l.anim.length-1;if(s)a=i;return o.open(n.extend({content:e,time:3e3,shade:false,skin:c,title:false,closeBtn:false,btn:false,resize:false,end:a},s&&!r.config.skin?{skin:c+" layui-layer-hui",anim:u}:function(){i=i||{};if(i.icon===-1||i.icon===t&&!r.config.skin){i.skin=c+" "+(i.skin||"layui-layer-hui")}return i}()))},load:function(e,t){return o.open(n.extend({type:3,icon:e||0,resize:false,shade:.01},t))},tips:function(e,t,i){return o.open(n.extend({type:4,content:[e,t],closeBtn:false,time:3e3,shade:false,resize:false,fixed:false,maxWidth:210},i))}};var s=function(e){var t=this;t.index=++o.index;t.config=n.extend({},t.config,r.config,e);document.body?t.creat():setTimeout(function(){t.creat()},30)};s.pt=s.prototype;var l=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];l.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"];s.pt.config={type:0,shade:.3,fixed:true,move:l[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:true,icon:-1,moveType:1,resize:true,scrollbar:true,tips:2};s.pt.vessel=function(e,t){var i=this,a=i.index,o=i.config;var s=o.zIndex+a,f=typeof o.title==="object";var c=o.maxmin&&(o.type===1||o.type===2);var u=o.title?'<div class="layui-layer-title" style="'+(f?o.title[1]:"")+'">'+(f?o.title[0]:o.title)+"</div>":"";o.zIndex=s;t([o.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+a+'" times="'+a+'" style="'+("z-index:"+(s-1)+"; ")+'"></div>':"",'<div class="'+l[0]+(" layui-layer-"+r.type[o.type])+((o.type==0||o.type==2)&&!o.shade?" layui-layer-border":"")+" "+(o.skin||"")+'" id="'+l[0]+a+'" type="'+r.type[o.type]+'" times="'+a+'" showtime="'+o.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+s+"; width:"+o.area[0]+";height:"+o.area[1]+(o.fixed?"":";position:absolute;")+'">'+(e&&o.type!=2?"":u)+'<div id="'+(o.id||"")+'" class="layui-layer-content'+(o.type==0&&o.icon!==-1?" layui-layer-padding":"")+(o.type==3?" layui-layer-loading"+o.icon:"")+'">'+(o.type==0&&o.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+o.icon+'"></i>':"")+(o.type==1&&e?"":o.content||"")+"</div>"+'<span class="layui-layer-setwin">'+function(){var e=c?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";o.closeBtn&&(e+='<a class="layui-layer-ico '+l[7]+" "+l[7]+(o.title?o.closeBtn:o.type==4?"1":"2")+'" href="javascript:;"></a>');return e}()+"</span>"+(o.btn?function(){var e="";typeof o.btn==="string"&&(o.btn=[o.btn]);for(var t=0,i=o.btn.length;t<i;t++){e+='<a class="'+l[6]+""+t+'">'+o.btn[t]+"</a>"}return'<div class="'+l[6]+" layui-layer-btn-"+(o.btnAlign||"")+'">'+e+"</div>"}():"")+(o.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],u,n('<div class="layui-layer-move"></div>'));return i};s.pt.creat=function(){var e=this,t=e.config,i=e.index,s,f=t.content,c=typeof f==="object",u=n("body");if(t.id&&n("#"+t.id)[0])return;if(typeof t.area==="string"){t.area=t.area==="auto"?["",""]:[t.area,""]}if(t.shift){t.anim=t.shift}if(o.ie==6){t.fixed=false}switch(t.type){case 0:t.btn="btn"in t?t.btn:r.btn[0];o.closeAll("dialog");break;case 2:var f=t.content=c?t.content:[t.content||"http://layer.layui.com","auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+l[4]+""+i+'" name="'+l[4]+""+i+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:delete t.title;delete t.closeBtn;t.icon===-1&&t.icon===0;o.closeAll("loading");break;case 4:c||(t.content=[t.content,"body"]);t.follow=t.content[1];t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>';delete t.title;t.tips=typeof t.tips==="object"?t.tips:[t.tips,true];t.tipsMore||o.closeAll("tips");break}e.vessel(c,function(a,o,s){u.append(a[0]);c?function(){t.type==2||t.type==4?function(){n("body").append(a[1])}():function(){if(!f.parents("."+l[0])[0]){f.data("display",f.css("display")).show().addClass("layui-layer-wrap").wrap(a[1]);n("#"+l[0]+i).find("."+l[5]).before(o)}}()}():u.append(a[1]);n(".layui-layer-move")[0]||u.append(r.moveElem=s);e.layero=n("#"+l[0]+i);t.scrollbar||l.html.css("overflow","hidden").attr("layer-full",i)}).auto(i);n("#layui-layer-shade"+e.index).css({"background-color":t.shade[1]||"#000",opacity:t.shade[0]||t.shade});t.type==2&&o.ie==6&&e.layero.find("iframe").attr("src",f[0]);t.type==4?e.tips():e.offset();if(t.fixed){a.on("resize",function(){e.offset();(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(i);t.type==4&&e.tips()})}t.time<=0||setTimeout(function(){o.close(e.index)},t.time);e.move().callback();if(l.anim[t.anim]){var d="layer-anim "+l.anim[t.anim];e.layero.addClass(d).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n(this).removeClass(d)})}if(t.isOutAnim){e.layero.data("isOutAnim",true)}};s.pt.auto=function(e){var t=this,i=t.config,r=n("#"+l[0]+e);if(i.area[0]===""&&i.maxWidth>0){if(o.ie&&o.ie<8&&i.btn){r.width(r.innerWidth())}r.outerWidth()>i.maxWidth&&r.width(i.maxWidth)}var s=[r.innerWidth(),r.innerHeight()],f=r.find(l[1]).outerHeight()||0,c=r.find("."+l[6]).outerHeight()||0,u=function(e){e=r.find(e);e.height(s[1]-f-c-2*(parseFloat(e.css("padding-top"))|0))};switch(i.type){case 2:u("iframe");break;default:if(i.area[1]===""){if(i.maxHeight>0&&r.outerHeight()>i.maxHeight){s[1]=i.maxHeight;u("."+l[5])}else if(i.fixed&&s[1]>=a.height()){s[1]=a.height();u("."+l[5])}}else{u("."+l[5])}break}return t};s.pt.offset=function(){var e=this,t=e.config,i=e.layero;var n=[i.outerWidth(),i.outerHeight()];var r=typeof t.offset==="object";e.offsetTop=(a.height()-n[1])/2;e.offsetLeft=(a.width()-n[0])/2;if(r){e.offsetTop=t.offset[0];e.offsetLeft=t.offset[1]||e.offsetLeft}else if(t.offset!=="auto"){if(t.offset==="t"){e.offsetTop=0}else if(t.offset==="r"){e.offsetLeft=a.width()-n[0]}else if(t.offset==="b"){e.offsetTop=a.height()-n[1]}else if(t.offset==="l"){e.offsetLeft=0}else if(t.offset==="lt"){e.offsetTop=0;e.offsetLeft=0}else if(t.offset==="lb"){e.offsetTop=a.height()-n[1];e.offsetLeft=0}else if(t.offset==="rt"){e.offsetTop=0;e.offsetLeft=a.width()-n[0]}else if(t.offset==="rb"){e.offsetTop=a.height()-n[1];e.offsetLeft=a.width()-n[0]}else{e.offsetTop=t.offset}}if(!t.fixed){e.offsetTop=/%$/.test(e.offsetTop)?a.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop);e.offsetLeft=/%$/.test(e.offsetLeft)?a.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft);e.offsetTop+=a.scrollTop();e.offsetLeft+=a.scrollLeft()}if(i.attr("minLeft")){e.offsetTop=a.height()-(i.find(l[1]).outerHeight()||0);e.offsetLeft=i.css("left")}i.css({top:e.offsetTop,left:e.offsetLeft})};s.pt.tips=function(){var e=this,t=e.config,i=e.layero;var r=[i.outerWidth(),i.outerHeight()],o=n(t.follow);if(!o[0])o=n("body");var s={width:o.outerWidth(),height:o.outerHeight(),top:o.offset().top,left:o.offset().left},f=i.find(".layui-layer-TipsG");var c=t.tips[0];t.tips[1]||f.remove();s.autoLeft=function(){if(s.left+r[0]-a.width()>0){s.tipLeft=s.left+s.width-r[0];f.css({right:12,left:"auto"})}else{s.tipLeft=s.left}};s.where=[function(){s.autoLeft();s.tipTop=s.top-r[1]-10;f.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left+s.width+10;s.tipTop=s.top;f.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){s.autoLeft();s.tipTop=s.top+s.height+10;f.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left-r[0]-10;s.tipTop=s.top;f.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}];s.where[c-1]();if(c===1){s.top-(a.scrollTop()+r[1]+8*2)<0&&s.where[2]()}else if(c===2){a.width()-(s.left+s.width+r[0]+8*2)>0||s.where[3]()}else if(c===3){s.top-a.scrollTop()+s.height+r[1]+8*2-a.height()>0&&s.where[0]()}else if(c===4){r[0]+8*2-s.left>0&&s.where[1]()}i.find("."+l[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""});i.css({left:s.tipLeft-(t.fixed?a.scrollLeft():0),top:s.tipTop-(t.fixed?a.scrollTop():0)})};s.pt.move=function(){var e=this,t=e.config,i=n(document),s=e.layero,l=s.find(t.move),f=s.find(".layui-layer-resize"),c={};if(t.move){l.css("cursor","move")}l.on("mousedown",function(e){e.preventDefault();if(t.move){c.moveStart=true;c.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))];r.moveElem.css("cursor","move").show()}});f.on("mousedown",function(e){e.preventDefault();c.resizeStart=true;c.offset=[e.clientX,e.clientY];c.area=[s.outerWidth(),s.outerHeight()];r.moveElem.css("cursor","se-resize").show()});i.on("mousemove",function(i){if(c.moveStart){var n=i.clientX-c.offset[0],r=i.clientY-c.offset[1],l=s.css("position")==="fixed";i.preventDefault();c.stX=l?0:a.scrollLeft();c.stY=l?0:a.scrollTop();if(!t.moveOut){var f=a.width()-s.outerWidth()+c.stX,u=a.height()-s.outerHeight()+c.stY;n<c.stX&&(n=c.stX);n>f&&(n=f);r<c.stY&&(r=c.stY);r>u&&(r=u)}s.css({left:n,top:r})}if(t.resize&&c.resizeStart){var n=i.clientX-c.offset[0],r=i.clientY-c.offset[1];i.preventDefault();o.style(e.index,{width:c.area[0]+n,height:c.area[1]+r});c.isResize=true;t.resizing&&t.resizing(s)}}).on("mouseup",function(e){if(c.moveStart){delete c.moveStart;r.moveElem.hide();t.moveEnd&&t.moveEnd(s)}if(c.resizeStart){delete c.resizeStart;r.moveElem.hide()}});return e};s.pt.callback=function(){var e=this,t=e.layero,i=e.config;e.openLayer();if(i.success){if(i.type==2){t.find("iframe").on("load",function(){i.success(t,e.index)})}else{i.success(t,e.index)}}o.ie==6&&e.IE6(t);t.find("."+l[6]).children("a").on("click",function(){var a=n(this).index();if(a===0){if(i.yes){i.yes(e.index,t)}else if(i["btn1"]){i["btn1"](e.index,t)}else{o.close(e.index)}}else{var r=i["btn"+(a+1)]&&i["btn"+(a+1)](e.index,t);r===false||o.close(e.index)}});function a(){var n=i.cancel&&i.cancel(e.index,t);n===false||o.close(e.index)}t.find("."+l[7]).on("click",a);if(i.shadeClose){n("#layui-layer-shade"+e.index).on("click",function(){o.close(e.index)})}t.find(".layui-layer-min").on("click",function(){var n=i.min&&i.min(t);n===false||o.min(e.index,i)});t.find(".layui-layer-max").on("click",function(){if(n(this).hasClass("layui-layer-maxmin")){o.restore(e.index);i.restore&&i.restore(t)}else{o.full(e.index,i);setTimeout(function(){i.full&&i.full(t)},100)}});i.end&&(r.end[e.index]=i.end)};r.reselect=function(){n.each(n("select"),function(e,t){var i=n(this);if(!i.parents("."+l[0])[0]){i.attr("layer")==1&&n("."+l[0]).length<1&&i.removeAttr("layer").show()}i=null})};s.pt.IE6=function(e){n("select").each(function(e,t){var i=n(this);if(!i.parents("."+l[0])[0]){i.css("display")==="none"||i.attr({layer:"1"}).hide()}i=null})};s.pt.openLayer=function(){var e=this;o.zIndex=e.config.zIndex;o.setTop=function(e){var t=function(){o.zIndex++;e.css("z-index",o.zIndex+1)};o.zIndex=parseInt(e[0].style.zIndex);e.on("mousedown",t);return o.zIndex}};r.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin");e.attr({area:t})};r.rescollbar=function(e){if(l.html.attr("layer-full")==e){if(l.html[0].style.removeProperty){l.html[0].style.removeProperty("overflow")}else{l.html[0].style.removeAttribute("overflow")}l.html.removeAttr("layer-full")}};e.layer=o;o.getChildFrame=function(e,t){t=t||n("."+l[4]).attr("times");return n("#"+l[0]+t).find("iframe").contents().find(e)};o.getFrameIndex=function(e){return n("#"+e).parents("."+l[4]).attr("times")};o.iframeAuto=function(e){if(!e)return;var t=o.getChildFrame("html",e).outerHeight();var i=n("#"+l[0]+e);var a=i.find(l[1]).outerHeight()||0;var r=i.find("."+l[6]).outerHeight()||0;i.css({height:t+a+r});i.find("iframe").css({height:t})};o.iframeSrc=function(e,t){n("#"+l[0]+e).find("iframe").attr("src",t)};o.style=function(e,t,i){var a=n("#"+l[0]+e),o=a.find(".layui-layer-content"),s=a.attr("type"),f=a.find(l[1]).outerHeight()||0,c=a.find("."+l[6]).outerHeight()||0,u=a.attr("minLeft");if(s===r.type[3]||s===r.type[4]){return}if(!i){if(parseFloat(t.width)<=260){t.width=260}if(parseFloat(t.height)-f-c<=64){t.height=64+f+c}}a.css(t);c=a.find("."+l[6]).outerHeight();if(s===r.type[2]){a.find("iframe").css({height:parseFloat(t.height)-f-c})}else{o.css({height:parseFloat(t.height)-f-c-parseFloat(o.css("padding-top"))-parseFloat(o.css("padding-bottom"))})}};o.min=function(e,t){var i=n("#"+l[0]+e),s=i.find(l[1]).outerHeight()||0,f=i.attr("minLeft")||181*r.minIndex+"px",c=i.css("position");r.record(i);if(r.minLeft[0]){f=r.minLeft[0];r.minLeft.shift()}i.attr("position",c);o.style(e,{width:180,height:s,left:f,top:a.height()-s,position:"fixed",overflow:"hidden"},true);i.find(".layui-layer-min").hide();i.attr("type")==="page"&&i.find(l[4]).hide();r.rescollbar(e);if(!i.attr("minLeft")){r.minIndex++}i.attr("minLeft",f)};o.restore=function(e){var t=n("#"+l[0]+e),i=t.attr("area").split(",");var a=t.attr("type");o.style(e,{width:parseFloat(i[0]),height:parseFloat(i[1]),top:parseFloat(i[2]),left:parseFloat(i[3]),position:t.attr("position"),overflow:"visible"},true);t.find(".layui-layer-max").removeClass("layui-layer-maxmin");t.find(".layui-layer-min").show();t.attr("type")==="page"&&t.find(l[4]).show();r.rescollbar(e)};o.full=function(e){var t=n("#"+l[0]+e),i;r.record(t);if(!l.html.attr("layer-full")){l.html.css("overflow","hidden").attr("layer-full",e)}clearTimeout(i);i=setTimeout(function(){var i=t.css("position")==="fixed";o.style(e,{top:i?0:a.scrollTop(),left:i?0:a.scrollLeft(),width:a.width(),height:a.height()},true);t.find(".layui-layer-min").hide()},100)};o.title=function(e,t){var i=n("#"+l[0]+(t||o.index)).find(l[1]);i.html(e)};o.close=function(e){var t=n("#"+l[0]+e),i=t.attr("type"),a="layer-anim-close";if(!t[0])return;var s="layui-layer-wrap",f=function(){if(i===r.type[1]&&t.attr("conType")==="object"){t.children(":not(."+l[5]+")").remove();var a=t.find("."+s);for(var o=0;o<2;o++){a.unwrap()}a.css("display",a.data("display")).removeClass(s)}else{if(i===r.type[2]){try{var f=n("#"+l[4]+e)[0];f.contentWindow.document.write("");f.contentWindow.close();t.find("."+l[5])[0].removeChild(f)}catch(e){}}t[0].innerHTML="";t.remove()}typeof r.end[e]==="function"&&r.end[e]();delete r.end[e]};if(t.data("isOutAnim")){t.addClass("layer-anim "+a)}n("#layui-layer-moves, #layui-layer-shade"+e).remove();o.ie==6&&r.reselect();r.rescollbar(e);if(t.attr("minLeft")){r.minIndex--;r.minLeft.push(t.attr("minLeft"))}if(o.ie&&o.ie<10||!t.data("isOutAnim")){f()}else{setTimeout(function(){f()},200)}};o.closeAll=function(e){n.each(n("."+l[0]),function(){var t=n(this);var i=e?t.attr("type")===e:1;i&&o.close(t.attr("times"));i=null})};var f=o.cache||{},c=function(e){return f.skin?" "+f.skin+" "+f.skin+"-"+e:""};o.prompt=function(e,t){var i="";e=e||{};if(typeof e==="function")t=e;if(e.area){var r=e.area;i='style="width: '+r[0]+"; height: "+r[1]+';"';delete e.area}var s,l=e.formType==2?'<textarea class="layui-layer-input"'+i+"></textarea>":function(){return'<input type="'+(e.formType==1?"password":"text")+'" class="layui-layer-input">'}();var f=e.success;delete e.success;return o.open(n.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:l,skin:"layui-layer-prompt"+c("prompt"),maxWidth:a.width(),success:function(t){s=t.find(".layui-layer-input");s.val(e.value||"").focus();typeof f==="function"&&f(t)},resize:false,yes:function(i){var n=s.val();if(n===""){s.focus()}else if(n.length>(e.maxlength||500)){o.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(e.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",s,{tips:1})}else{t&&t(n,i,s)}}},e))};o.tab=function(e){e=e||{};var t=e.tab||{},i="layui-this",a=e.success;delete e.success;return o.open(n.extend({type:1,skin:"layui-layer-tab"+c("tab"),resize:false,title:function(){var e=t.length,n=1,a="";if(e>0){a='<span class="'+i+'">'+t[0].title+"</span>";for(;n<e;n++){a+="<span>"+t[n].title+"</span>"}}return a}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=t.length,n=1,a="";if(e>0){a='<li class="layui-layer-tabli '+i+'">'+(t[0].content||"no content")+"</li>";for(;n<e;n++){a+='<li class="layui-layer-tabli">'+(t[n].content||"no  content")+"</li>"}}return a}()+"</ul>",success:function(t){var r=t.find(".layui-layer-title").children();var o=t.find(".layui-layer-tabmain").children();r.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=true;var a=n(this),r=a.index();a.addClass(i).siblings().removeClass(i);o.eq(r).show().siblings().hide();typeof e.change==="function"&&e.change(r)});typeof a==="function"&&a(t)}},e))};o.photos=function(t,i,a){var r={};t=t||{};if(!t.photos)return;var s=t.photos.constructor===Object;var l=s?t.photos:{},f=l.data||[];var u=l.start||0;r.imgIndex=(u|0)+1;t.img=t.img||"img";var d=t.success;delete t.success;if(!s){var y=n(t.photos),p=function(){f=[];y.find(t.img).each(function(e){var t=n(this);t.attr("layer-index",e);f.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};p();if(f.length===0)return;i||y.on("click",t.img,function(){var e=n(this),i=e.attr("layer-index");o.photos(n.extend(t,{photos:{start:i,data:f,tab:t.tab},full:t.full}),true);p()});if(!i)return}else if(f.length===0){return o.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}r.imgprev=function(e){r.imgIndex--;if(r.imgIndex<1){r.imgIndex=f.length}r.tabimg(e)};r.imgnext=function(e,t){r.imgIndex++;if(r.imgIndex>f.length){r.imgIndex=1;if(t){return}}r.tabimg(e)};r.keyup=function(e){if(!r.end){var t=e.keyCode;e.preventDefault();if(t===37){r.imgprev(true)}else if(t===39){r.imgnext(true)}else if(t===27){o.close(r.index)}}};r.tabimg=function(e){if(f.length<=1)return;l.start=r.imgIndex-1;o.close(r.index);return o.photos(t,true,e);setTimeout(function(){o.photos(t,true,e)},200)};r.event=function(){r.bigimg.hover(function(){r.imgsee.show()},function(){r.imgsee.hide()});r.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault();r.imgprev()});r.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault();r.imgnext()});n(document).on("keyup",r.keyup)};function h(e,t,i){var n=new Image;n.src=e;if(n.complete){return t(n)}n.onload=function(){n.onload=null;t(n)};n.onerror=function(e){n.onerror=null;i(e)}}r.loadi=o.load(2,{shade:"shade"in t?false:.9,scrollbar:false});h(f[u].src,function(i){o.close(r.loadi);r.index=o.open(n.extend({type:1,id:"layui-layer-photos",area:function(){var a=[i.width,i.height];var r=[n(e).width()-100,n(e).height()-100];if(!t.full&&(a[0]>r[0]||a[1]>r[1])){var o=[a[0]/r[0],a[1]/r[1]];if(o[0]>o[1]){a[0]=a[0]/o[0];a[1]=a[1]/o[0]}else if(o[0]<o[1]){a[0]=a[0]/o[1];a[1]=a[1]/o[1]}}return[a[0]+"px",a[1]+"px"]}(),title:false,shade:.9,shadeClose:true,closeBtn:false,move:".layui-layer-phimg img",moveType:1,scrollbar:false,moveOut:true,isOutAnim:false,skin:"layui-layer-photos"+c("photos"),content:'<div class="layui-layer-phimg">'+'<img src="'+f[u].src+'" alt="'+(f[u].alt||"")+'" layer-pid="'+f[u].pid+'">'+'<div class="layui-layer-imgsee">'+(f.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(a?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(f[u].alt||"")+"</a><em>"+r.imgIndex+"/"+f.length+"</em></span></div>"+"</div>"+"</div>",success:function(e,i){r.bigimg=e.find(".layui-layer-phimg");r.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar");r.event(e);t.tab&&t.tab(f[u],e);typeof d==="function"&&d(e)},end:function(){r.end=true;n(document).off("keyup",r.keyup)}},t))},function(){o.close(r.loadi);o.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){f.length>1&&r.imgnext(true,true)}})})};r.run=function(t){n=t;a=n(e);l.html=n("html");o.open=function(e){var t=new s(e);return t.index}};e.layui&&layui.define?(o.ready(),layui.define("jquery",function(t){o.path=layui.cache.dir;r.run(layui.$);e.layer=o;t("layer",o)})):typeof define==="function"&&define.amd?define(["jquery"],function(){r.run(e.jQuery);return o}):function(){r.run(e.jQuery);o.ready()}()}(window);