layui.define("layer",function(e){"use strict";var i=layui.$,t=layui.layer,a=layui.hint(),n=layui.device(),l="form",r=".layui-form",s="layui-this",u="layui-show",o="layui-hide",c="layui-disabled",f=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:function(e){if(!e||isNaN(e))return"只能填写数字"},date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};f.prototype.set=function(e){var t=this;i.extend(true,t.config,e);return t};f.prototype.verify=function(e){var t=this;i.extend(true,t.config.verify,e);return t};f.prototype.on=function(e,i){return layui.onevent.call(this,l,e,i)};f.prototype.render=function(e,t){var n=this,u=i(r+function(){return t?'[lay-filter="'+t+'"]':""}()),f={select:function(){var e="请选择",t="layui-form-select",a="layui-select-title",n="layui-select-none",r="",f,d=u.find("select"),v=function(e,n){if(!i(e.target).parent().hasClass(a)||n){i("."+t).removeClass(t+"ed "+t+"up");f&&r&&f.val(r)}f=null},y=function(e,u,d){var y=i(this),p=e.find("."+a),m=p.find("input"),k=e.find("dl"),g=k.children("dd");if(u)return;var x=function(){var i=e.offset().top+e.outerHeight()+5-h.scrollTop(),a=k.outerHeight();e.addClass(t+"ed");g.removeClass(o);if(i+a>h.height()&&i>=a){e.addClass(t+"up")}},b=function(i){e.removeClass(t+"ed "+t+"up");m.blur();if(i)return;C(m.val(),function(e){if(e){r=k.find("."+s).html();m&&m.val(r)}})};p.on("click",function(i){e.hasClass(t+"ed")?b():(v(i,true),x());k.find("."+n).remove()});p.find(".layui-edge").on("click",function(){m.focus()});m.on("keyup",function(e){var i=e.keyCode;if(i===9){x()}}).on("keydown",function(e){var i=e.keyCode;if(i===9){b()}else if(i===13){e.preventDefault()}});var C=function(e,t,a){var n=0;layui.each(g,function(){var t=i(this),l=t.text(),r=l.indexOf(e)===-1;if(e===""||a==="blur"?e!==l:r)n++;a==="keyup"&&t[r?"addClass":"removeClass"](o)});var l=n===g.length;return t(l),l};var w=function(e){var i=this.value,t=e.keyCode;if(t===9||t===13||t===37||t===38||t===39||t===40){return false}C(i,function(e){if(e){k.find("."+n)[0]||k.append('<p class="'+n+'">无匹配项</p>')}else{k.find("."+n).remove()}},"keyup");if(i===""){k.find("."+n).remove()}};if(d){m.on("keyup",w).on("blur",function(e){f=m;r=k.find("."+s).html();setTimeout(function(){C(m.val(),function(e){r||m.val("")},"blur")},200)})}g.on("click",function(){var t=i(this),a=t.attr("lay-value");var n=y.attr("lay-filter");if(t.hasClass(c))return false;if(t.hasClass("layui-select-tips")){m.val("")}else{m.val(t.text());t.addClass(s)}t.siblings().removeClass(s);y.val(a).removeClass("layui-form-danger");layui.event.call(this,l,"select("+n+")",{elem:y[0],value:a,othis:e});b(true);return false});e.find("dl>dt").on("click",function(e){return false});i(document).off("click",v).on("click",v)};d.each(function(n,l){var r=i(this),u=r.next("."+t),o=this.disabled,f=l.value,d=i(l.options[l.selectedIndex]),v=l.options[0];if(typeof r.attr("lay-ignore")==="string")return r.show();var h=typeof r.attr("lay-search")==="string",p=v?v.value?e:v.innerHTML||e:e;var m=i(['<div class="'+(h?"":"layui-unselect ")+t+(o?" layui-select-disabled":"")+'">','<div class="'+a+'"><input type="text" placeholder="'+p+'" value="'+(f?d.html():"")+'" '+(h?"":"readonly")+' class="layui-input'+(h?"":" layui-unselect")+(o?" "+c:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(r.find("optgroup")[0]?" layui-select-group":"")+'">'+function(i){var t=[];layui.each(i,function(i,a){if(i===0&&!a.value){t.push('<dd lay-value="" class="layui-select-tips">'+(a.innerHTML||e)+"</dd>")}else if(a.tagName.toLowerCase()==="optgroup"){t.push("<dt>"+a.label+"</dt>")}else{t.push('<dd lay-value="'+a.value+'" class="'+(f===a.value?s:"")+(a.disabled?" "+c:"")+'">'+a.innerHTML+"</dd>")}});t.length===0&&t.push('<dd lay-value="" class="'+c+'">没有选项</dd>');return t.join("")}(r.find("*"))+"</dl>","</div>"].join(""));u[0]&&u.remove();r.after(m);y.call(this,m,o,h)})},checkbox:function(){var e={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},t=u.find("input[type=checkbox]"),a=function(e,t){var a=i(this);e.on("click",function(){var i=a.attr("lay-filter"),n=(a.attr("lay-text")||"").split("|");if(a[0].disabled)return;a[0].checked?(a[0].checked=false,e.removeClass(t[1]).find("em").text(n[1])):(a[0].checked=true,e.addClass(t[1]).find("em").text(n[0]));layui.event.call(a[0],l,t[2]+"("+i+")",{elem:a[0],value:a[0].value,othis:e})})};t.each(function(t,n){var l=i(this),r=l.attr("lay-skin"),s=(l.attr("lay-text")||"").split("|"),u=this.disabled;if(r==="switch")r="_"+r;var o=e[r]||e.checkbox;if(typeof l.attr("lay-ignore")==="string")return l.show();var f=l.next("."+o[0]);var d=i(['<div class="layui-unselect '+o[0]+(n.checked?" "+o[1]:"")+(u?" layui-checkbox-disbaled "+c:"")+'" lay-skin="'+(r||"")+'">',{_switch:"<em>"+((n.checked?s[0]:s[1])||"")+"</em><i></i>"}[r]||(n.title.replace(/\s/g,"")?"<span>"+n.title+"</span>":"")+'<i class="layui-icon">'+(r?"&#xe605;":"&#xe618;")+"</i>","</div>"].join(""));f[0]&&f.remove();l.after(d);a.call(this,d,o)})},radio:function(){var e="layui-form-radio",t=["&#xe643;","&#xe63f;"],a=u.find("input[type=radio]"),n=function(a){var n=i(this),s="layui-anim-scaleSpring";a.on("click",function(){var u=n[0].name,o=n.parents(r);var c=n.attr("lay-filter");var f=o.find("input[name="+u.replace(/(\.|#|\[|\])/g,"\\$1")+"]");if(n[0].disabled)return;layui.each(f,function(){var a=i(this).next("."+e);this.checked=false;a.removeClass(e+"ed");a.find(".layui-icon").removeClass(s).html(t[1])});n[0].checked=true;a.addClass(e+"ed");a.find(".layui-icon").addClass(s).html(t[0]);layui.event.call(n[0],l,"radio("+c+")",{elem:n[0],value:n[0].value,othis:a})})};a.each(function(a,l){var r=i(this),s=r.next("."+e),u=this.disabled;if(typeof r.attr("lay-ignore")==="string")return r.show();s[0]&&s.remove();var o=i(['<div class="layui-unselect '+e+(l.checked?" "+e+"ed":"")+(u?" layui-radio-disbaled "+c:"")+'">','<i class="layui-anim layui-icon">'+t[l.checked?0:1]+"</i>","<div>"+function(){var e=l.title||"";if(typeof r.next().attr("lay-radio")==="string"){e=r.next().html();r.next().remove()}return e}()+"</div>","</div>"].join(""));r.after(o);n.call(this,o)})}};e?f[e]?f[e]():a.error("不支持的"+e+"表单渲染"):layui.each(f,function(e,i){i()});return n};var d=function(){var e=i(this),a=v.config.verify,s=null,u="layui-form-danger",o={},c=e.parents(r),f=c.find("*[lay-verify]"),d=e.parents("form")[0],y=c.find("input,select,textarea"),h=e.attr("lay-filter");layui.each(f,function(e,l){var r=i(this),o=r.attr("lay-verify").split("|"),c=r.attr("lay-verType"),f=r.val();r.removeClass(u);layui.each(o,function(e,i){var o,d="",v=typeof a[i]==="function";if(a[i]){var o=v?d=a[i](f,l):!a[i][0].test(f);d=d||a[i][1];if(o){if(c==="tips"){t.tips(d,function(){if(typeof r.attr("lay-ignore")!=="string"){if(l.tagName.toLowerCase()==="select"||/^checkbox|radio$/.test(l.type)){return r.next()}}return r}(),{tips:1})}else if(c==="alert"){t.alert(d,{title:"提示",shadeClose:true})}else{t.msg(d,{icon:5,shift:6})}if(!n.android&&!n.ios)l.focus();r.addClass(u);return s=true}}});if(s)return s});if(s)return false;var p={};layui.each(y,function(e,i){i.name=(i.name||"").replace(/^\s*|\s*&/,"");if(!i.name)return;if(/^.*\[\]$/.test(i.name)){var t=i.name.match(/^(.*)\[\]$/g)[0];p[t]=p[t]|0;i.name=i.name.replace(/^(.*)\[\]$/,"$1["+p[t]+++"]")}if(/^checkbox|radio$/.test(i.type)&&!i.checked)return;o[i.name]=i.value});return layui.event.call(this,l,"submit("+h+")",{elem:this,form:d,field:o})};var v=new f,y=i(document),h=i(window);v.render();y.on("reset",r,function(){var e=i(this).attr("lay-filter");setTimeout(function(){v.render(null,e)},50)});y.on("submit",r,d).on("click","*[lay-submit]",d);e(l,v)});